<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Search components</title>
</head>
<body>
  <th:block th:fragment="search_form(searchPageName, showDatasetSelect)">
    <div class="d-flex flex-row flex-nowrap">
      <div th:if="${(searchPageName == 'lex_search' || searchPageName == 'term_search') && showDatasetSelect}"
           data-plugin="paneToggle"
           data-hideable="searchColumn"
           data-extendable="resultColumn"
           class="searchResultsToggle">
        <i class="fa fa-list" aria-hidden="true"></i>
      </div>
      <input type="hidden" id="searchMode" name="searchMode" th:value="${searchMode}">
      <input type="hidden" id="isSearchFilterValid" value="false">
      <div class="flex-shrink-0 flex-grow-0 pr-2" th:if="${!#lists.isEmpty(allDatasets) && showDatasetSelect}" th:insert="~{::dataset_select}"></div>
      <div class="tab-content w-100">
        <th:block th:replace="::detail_search(${searchPageName})"></th:block>
        <th:block th:replace="::simple_search"></th:block>
      </div>
      <div class="d-flex flex-row align-items-center">
        <button type="button" id="share-search-link" th:data-search-uri="${searchUri}"
                class="btn btn-light ml-2" data-plugin="shareSearchLinkPlugin" th:text="#{common.search.share.details.link}">Otselink
        </button>
      </div>
    </div>
    <th:block th:fragment="manual_event_on_chk">
      <div id="manualEventOnDiv" class="d-none" data-plugin="manualEventOnDivView">
        <label class="form-check-label btn btn-primary date-check-box d-flex flex-row align-items-center m-0 p-0 shadow-none" data-plugin="mouseManualEventOnUpdateCheck">
          <i class="date-i-edit date-i-edit-small fa fa-edit d-flex flex-row"></i>
          <span class="date-text d-none" th:text="#{common.manual.event.on}">Pisiparandused</span>
          <span class="date-check d-none">
            <input class="date-check-input" type="checkbox"
                   data-plugin="manualEventOnUpdateCheck"
                   th:checked="${sessionBean.manualEventOnUpdateEnabled == false}">
            <i class="date-check-i"></i>
          </span>
        </label>
      </div>
    </th:block>
    <script th:inline="javascript">
		  initialiseSearchForm()
    </script>
  </th:block>
  <th:block th:fragment="simple_search">
    <div class="tab-pane fade " th:classappend="${searchMode =='SIMPLE' ? 'show active' : ''}" id="simple_search_filter">
      <div class="d-flex flex-row align-items-center">
        <input type="text" class="form-control col-2" name="simpleSearchFilter" th:value="${simpleSearchFilter}" th:placeholder="#{|search.placeholder.${searchPageName}|}" autocomplete="off">
        <button type="submit" class="btn btn-primary px-5 ml-2" th:text="#{common.search}">Otsi</button>
      </div>
    </div>
  </th:block>
  <th:block th:fragment="detail_search(searchPageName)">
    <div class="tab-pane fade" th:classappend="${searchMode =='DETAIL'} ? 'show active':''" id="detail_search_filter" data-plugin="detailedSearchPlugin">
      <div class="d-flex flex-row flex-nowrap align-items-start">
        <div class="flex-grow-1 border-left border-right border-light my-n3 pt-3 pr-3 detail-search-filter-items">
          <div class="detail-search-group d-flex flex-row align-items-start pb-2"
               th:each="group, critGroupStat : ${detailSearchFilter.criteriaGroups}"
               name="detailGroup"
               th:data-index="${critGroupStat.index}">
            <div class="col-auto">
              <select class="form-control" th:name="'criteriaGroups[' + ${critGroupStat.index} + '].entity'">
                <option th:each="entity : ${T(eki.ekilex.constant.SearchEntity).getLexEntities()}"
                        th:value="${entity}" th:selected="${@viewUtil.enumEquals(group.entity, entity)}"
                        th:text="#{|lex.search.entity.${entity.name()}|}"
                        th:if="${searchPageName == 'lex_search'}">entityName</option>
                <option th:each="entity : ${T(eki.ekilex.constant.SearchEntity).getTermEntities()}"
                        th:value="${entity}" th:selected="${@viewUtil.enumEquals(group.entity, entity)}"
                        th:text="#{|term.search.entity.${entity.name()}|}"
                        th:if="${searchPageName == 'term_search' || searchPageName == 'lim_term_search'}">entityName</option>
                <option th:each="entity : ${T(eki.ekilex.constant.SearchEntity).getSourceEntities()}"
                        th:value="${entity}" th:selected="${@viewUtil.enumEquals(group.entity, entity)}"
                        th:text="#{|source.search.entity.${entity.name()}|}"
                        th:if="${searchPageName == 'source_search'}">entityName</option>
              </select>
            </div>
            <div class="detail-search-sub-group flex-shrink-1 flex-grow-1 bg-light rounded mt-n2">
              <div class="detail-search-sub-row form-row px-2 pt-2 mb-2"
                   th:each="criteria, critStat: ${group.searchCriteria}"
                   name="detailCondition"
                   th:data-index="${critStat.index}"
                   th:data-page="${searchPageName}"
                   th:with="isExistsOperand = ${criteria.searchOperand.name() == 'EXISTS'
                                                    || criteria.searchOperand.name() == 'SINGLE'
                                                    || criteria.searchOperand.name() == 'MULTIPLE'}">
                <div th:if="${searchPageName == 'lex_search' || searchPageName == 'term_search'}">
                  <input type="checkbox" class="m-2" th:title="#{common.search.negative}" value="true"
                         th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].not'"
                         th:checked="${criteria.not}"/>
                </div>
                <div class="col-2">
                  <select class="form-control" th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchKey'">
                    <option th:each="key : ${group.entity.keys}" th:value="${key}" th:selected="${criteria.searchKey == key}" th:text="#{|enum.search.key.${key.name()}|}">searchKey</option>
                  </select>
                </div>
                <div class="col-2">
                  <select class="form-control" th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchOperand'">
                    <option th:each="operand : ${criteria.searchKey.getOperands()}"
                            th:value="${operand}"
                            th:selected="${criteria.searchOperand == operand}"
                            th:text="#{|enum.search.operand.${operand.name()}|}">searchOperand</option>
                  </select>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${(criteria.searchKey.name() == 'LANGUAGE_DIRECT') || (criteria.searchKey.name() == 'LANGUAGE_INDIRECT')}">
                  <select class="form-control" th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'" data-live-search="true" data-style="btn-outline-secondary">
                    <option value="" th:text="#{common.all.languages}">Kõik keeled</option>
                    <option th:each="language : ${languages}"
                            th:value="${language.code}"
                            th:selected="${criteria.searchValue == language.code}"
                            th:text="${language.value}">language</option>
                  </select>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'WORD_TYPE'}">
                  <select class="form-control"
                          th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                          data-live-search="true"
                          data-style="btn-outline-secondary"
                          th:hidden="${isExistsOperand}"
                          th:disabled="${isExistsOperand}">
                    <option th:each="wordType : ${wordTypes}"
                            th:value="${wordType.code}"
                            th:selected="${criteria.searchValue == wordType.code}"
                            th:text="${wordType.value}">word type</option>
                  </select>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'DISPLAY_MORPH'}">
                  <select class="form-control"
                          th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                          data-live-search="true"
                          data-style="btn-outline-secondary"
                          th:hidden="${isExistsOperand}"
                          th:disabled="${isExistsOperand}">
                    <option th:each="wordDisplayMorph : ${wordDisplayMorphs}"
                            th:value="${wordDisplayMorph.code}"
                            th:selected="${criteria.searchValue == wordDisplayMorph.code}"
                            th:text="${wordDisplayMorph.value}">word display morph</option>
                  </select>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'ASPECT'}">
                  <select class="form-control"
                          th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                          data-live-search="true"
                          data-style="btn-outline-secondary"
                          th:hidden="${isExistsOperand}"
                          th:disabled="${isExistsOperand}">
                    <option th:each="aspect : ${wordAspects}"
                            th:value="${aspect.code}"
                            th:selected="${criteria.searchValue == aspect.code}"
                            th:text="${aspect.value}">aspect</option>
                  </select>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'TAG_NAME'}">
                  <select class="form-control" th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'" data-live-search="true" data-style="btn-outline-secondary">
                    <option value="" selected th:text="#{common.all.tags}">Kõik sildid</option>
                    <option th:each="tag : ${allTags}"
                            th:value="${tag}"
                            th:selected="${criteria.searchValue == tag}"
                            th:text="${tag}">Täääg</option>
                  </select>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'DOMAIN'}">
                  <select class="form-control"
                          th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                          data-live-search="true"
                          data-style="btn-outline-secondary"
                          th:hidden="${isExistsOperand}"
                          th:disabled="${isExistsOperand}">
                    <option value="" th:text="#{common.all.domains}">Kõik valdkonnad</option>
                    <optgroup th:each="origin : ${domains}" th:label="${origin.getKey()}">
                      <option th:each="domain : ${origin.getValue()}"
                              th:value="${domain.toIdString()}"
                              th:selected="${criteria.searchValue == domain}"
                              th:text="${#strings.abbreviate(domain.origin + ' - ' + domain.code + ' - ' + domain.value, 100)}"
                              th:title="${domain.origin + ' - ' + domain.code + ' - ' + domain.value}">domain</option>
                    </optgroup>
                  </select>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'WORD_RELATION'}">
                  <select class="form-control"
                          th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                          data-live-search="true"
                          data-style="btn-outline-secondary"
                          th:hidden="${isExistsOperand}"
                          th:disabled="${isExistsOperand}">
                    <option th:each="relType : ${wordRelationTypes}"
                            th:value="${relType.code}"
                            th:selected="${criteria.searchValue == relType.code}"
                            th:text="${relType.value}">rel type</option>
                  </select>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'MEANING_RELATION'}">
                  <select class="form-control"
                          th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                          data-live-search="true"
                          data-style="btn-outline-secondary"
                          th:hidden="${isExistsOperand}"
                          th:disabled="${isExistsOperand}">
                    <option th:each="relType : ${meaningRelationTypes}"
                            th:value="${relType.code}"
                            th:selected="${criteria.searchValue == relType.code}"
                            th:text="${relType.value}">rel type</option>
                  </select>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'SEMANTIC_TYPE'}">
                  <select class="form-control"
                          th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                          data-live-search="true"
                          data-style="btn-outline-secondary"
                          th:hidden="${isExistsOperand}"
                          th:disabled="${isExistsOperand}">
                    <option th:each="semanticType : ${semanticTypes}"
                            th:value="${semanticType.code}"
                            th:selected="${criteria.searchValue == semanticType.code}"
                            th:text="${semanticType.code}">semantic type</option>
                  </select>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'COMPLEXITY'}">
                  <select class="form-control" th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'" data-live-search="true" data-style="btn-outline-secondary">
                    <option th:each="complexity : ${complexities}"
                            th:value="${complexity}"
                            th:selected="${criteria.searchValue == complexity.name()}"
                            th:text="#{'enum.complexity.' + ${complexity}}"></option>
                  </select>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'FREQUENCY'}">
                  <input type="text" class="form-control"
                         th:value="${criteria.searchValue}"
                         th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                         autocomplete="off">
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'RANK'}">
                  <input type="text" class="form-control"
                         th:value="${criteria.searchValue}"
                         th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                         autocomplete="off">
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'ATTRIBUTE_VALUE'}">
                  <input type="text" class="form-control"
                         th:value="${criteria.searchValue}"
                         th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                         th:hidden="${isExistsOperand}"
                         autocomplete="off">
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'VALUE'}">
                  <input type="text" class="form-control"
                         th:value="${criteria.searchValue}"
                         th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                         autocomplete="off">
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'VALUE_AND_EXISTS'}">
                  <input type="text" class="form-control"
                         th:value="${criteria.searchValue}"
                         th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                         th:hidden="${isExistsOperand}"
                         autocomplete="off">
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'ID'}">
                  <input type="text" class="form-control"
                         th:value="${criteria.searchValue}"
                         th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                         autocomplete="off">
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'COMMA_SEPARATED_IDS'}">
                  <input type="text" class="form-control"
                         th:value="${criteria.searchValue}"
                         th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                         autocomplete="off">
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'SOURCE_REF'}">
                  <input type="text" class="form-control"
                         th:value="${criteria.searchValue}"
                         th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                         hidden="hidden"
                         autocomplete="off">
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'SOURCE_NAME'}">
                  <input type="text" class="form-control"
                         th:value="${criteria.searchValue}"
                         th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                         autocomplete="off">
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'SOURCE_VALUE'}">
                  <input type="text" class="form-control"
                         th:value="${criteria.searchValue}"
                         th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                         autocomplete="off">
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'SOURCE_ID'}">
                  <input type="text" class="form-control"
                         th:value="${criteria.searchValue}"
                         th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                         autocomplete="off">
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'VOCAL_FORM'}">
                  <input type="text" class="form-control"
                         th:value="${criteria.searchValue}"
                         th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                         th:hidden="${isExistsOperand}"
                         autocomplete="off">
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'MORPHOPHONO_FORM'}">
                  <input type="text" class="form-control"
                         th:value="${criteria.searchValue}"
                         th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                         th:hidden="${isExistsOperand}"
                         autocomplete="off">
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'CREATED_OR_UPDATED_BY'}">
                  <input type="text" class="form-control"
                         th:value="${criteria.searchValue}"
                         th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                         autocomplete="off">
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="value-input-container col-auto flex-grow-0 mr-auto flex-shrink-1" th:if="${criteria.searchKey.name() == 'CREATED_OR_UPDATED_ON'}">
                  <div class="input-group date" data-provide="datepicker" data-date-language="et" data-date-autoclose="true">
                    <input type="text" class="form-control"
                           th:value="${criteria.searchValue}"
                           th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                           autocomplete="off">
                    <div class="input-group-addon input-group-append">
                      <div class="input-group-text">
                        <i class="fa fa-calendar fa-lg"></i>
                      </div>
                    </div>
                    <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                  </div>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'CREATED_BY'}">
                  <input type="text" class="form-control"
                         th:value="${criteria.searchValue}"
                         th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                         autocomplete="off">
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="value-input-container col-auto flex-grow-0 mr-auto flex-shrink-1" th:if="${criteria.searchKey.name() == 'CREATED_ON'}">
                  <div class="input-group date" data-provide="datepicker" data-date-language="et" data-date-autoclose="true">
                    <input type="text" class="form-control"
                           th:value="${criteria.searchValue}"
                           th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                           autocomplete="off">
                    <div class="input-group-addon input-group-append">
                      <div class="input-group-text">
                        <i class="fa fa-calendar fa-lg"></i>
                      </div>
                    </div>
                    <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                  </div>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'UPDATED_BY'}">
                  <input type="text" class="form-control"
                         th:value="${criteria.searchValue}"
                         th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                         autocomplete="off">
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="value-input-container col-auto flex-grow-0 mr-auto flex-shrink-1" th:if="${criteria.searchKey.name() == 'UPDATED_ON'}">
                  <div class="input-group date" data-provide="datepicker" data-date-language="et" data-date-autoclose="true">
                    <input type="text" class="form-control"
                           th:value="${criteria.searchValue}"
                           th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                           autocomplete="off">
                    <div class="input-group-addon input-group-append">
                      <div class="input-group-text">
                        <i class="fa fa-calendar fa-lg"></i>
                      </div>
                    </div>
                  </div>
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="value-input-container col-auto flex-grow-0 mr-auto flex-shrink-1" th:if="${criteria.searchKey.name() == 'LAST_UPDATE_ON'}">
                  <div class="input-group date" data-provide="datepicker" data-date-language="et" data-date-autoclose="true">
                    <input type="text" class="form-control"
                           th:value="${criteria.searchValue}"
                           th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                           autocomplete="off">
                    <div class="input-group-addon input-group-append">
                      <div class="input-group-text">
                        <i class="fa fa-calendar fa-lg"></i>
                      </div>
                    </div>
                  </div>
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="value-input-container col-auto flex-grow-0 mr-auto flex-shrink-1" th:if="${criteria.searchKey.name() == 'MANUAL_UPDATE_ON'}">
                  <div class="input-group date" data-provide="datepicker" data-date-language="et" data-date-autoclose="true">
                    <input type="text" class="form-control"
                           th:value="${criteria.searchValue}"
                           th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                           autocomplete="off">
                    <div class="input-group-addon input-group-append">
                      <div class="input-group-text">
                        <i class="fa fa-calendar fa-lg"></i>
                      </div>
                    </div>
                  </div>
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'DATASET_USAGE'}">
                  <select class="form-control" th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'" data-live-search="true" data-style="btn-outline-secondary">
                    <option th:each="dataset : ${userVisibleDatasets}"
                            th:value="${dataset.code}"
                            th:selected="${criteria.searchValue == dataset.code}"
                            th:text="${dataset.name}">language</option>
                  </select>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'SECONDARY_MEANING_WORD'}">
                  <input type="text" class="form-control"
                         th:value="${criteria.searchValue}"
                         th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                         th:hidden="${isExistsOperand}"
                         autocomplete="off">
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'PUBLICITY'}">
                  <select class="form-control" th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'">
                    <option value="true" th:selected="${criteria.searchValue == 'true'}">avalik</option>
                    <option value="false" th:selected="${criteria.searchValue == 'false'}">mitteavalik</option>
                  </select>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'OD_RECOMMENDATION'}">
                  <input type="text" class="form-control"
                         th:value="${criteria.searchValue}"
                         th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                         th:hidden="${isExistsOperand}"
                         autocomplete="off">
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'LEXEME_GRAMMAR'}">
                  <input type="text" class="form-control"
                         th:value="${criteria.searchValue}"
                         th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                         th:hidden="${isExistsOperand}"
                         autocomplete="off">
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'LEXEME_GOVERNMENT'}">
                  <input type="text" class="form-control"
                         th:value="${criteria.searchValue}"
                         th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                         th:hidden="${isExistsOperand}"
                         autocomplete="off">
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'LEXEME_POS'}">
                  <select class="form-control"
                          th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                          data-live-search="true"
                          th:hidden="${isExistsOperand}"
                          th:disabled="${isExistsOperand}">
                    <option th:each="pos : ${allLexemePos}"
                            th:value="${pos.code}"
                            th:selected="${criteria.searchValue == pos.code}"
                            th:text="${pos.value}">pos</option>
                  </select>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'LEXEME_REGISTER'}">
                  <select class="form-control"
                          th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                          data-live-search="true"
                          th:hidden="${isExistsOperand}"
                          th:disabled="${isExistsOperand}">
                    <option th:each="register : ${allLexemeRegisters}"
                            th:value="${register.code}"
                            th:selected="${criteria.searchValue == register.code}"
                            th:text="${register.value}">register</option>
                  </select>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'LEXEME_DERIV'}">
                  <select class="form-control"
                          th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                          data-live-search="true"
                          th:hidden="${isExistsOperand}"
                          th:disabled="${isExistsOperand}">
                    <option th:each="deriv : ${allLexemeDerivs}"
                            th:value="${deriv.code}"
                            th:selected="${criteria.searchValue == deriv.code}"
                            th:text="${deriv.value}">deriv</option>
                  </select>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'LEXEME_VALUE_STATE'}">
                  <select class="form-control"
                          th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                          data-live-search="true"
                          th:hidden="${isExistsOperand}"
                          th:disabled="${isExistsOperand}">
                    <option th:each="valueState : ${lexemeValueStates}"
                            th:value="${valueState.code}"
                            th:selected="${criteria.searchValue == valueState.code}"
                            th:text="${valueState.value}">value state</option>
                  </select>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'LEXEME_RELATION'}">
                  <select class="form-control"
                          th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                          data-live-search="true"
                          th:hidden="${isExistsOperand}"
                          th:disabled="${isExistsOperand}">
                    <option th:each="relationType : ${lexemeRelationTypes}"
                            th:value="${relationType.code}"
                            th:selected="${criteria.searchValue == relationType.code}"
                            th:text="${relationType.value}">relation type</option>
                  </select>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'LEXEME_PROFICIENCY_LEVEL'}">
                  <select class="form-control"
                          th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                          data-live-search="true"
                          th:hidden="${isExistsOperand}"
                          th:disabled="${isExistsOperand}">
                    <option th:each="proficiencyLevel : ${lexemeProficiencyLevels}"
                            th:value="${proficiencyLevel.code}"
                            th:selected="${criteria.searchValue == proficiencyLevel.code}"
                            th:text="${proficiencyLevel.value}">proficiency level</option>
                  </select>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'WORD_ATTRIBUTE_NAME'}">
                  <select class="form-control"
                          th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                          data-live-search="true"
                          data-style="btn-outline-secondary">
                    <option th:each="freeformType : ${wordFreeformTypes}"
                            th:value="${freeformType.code}"
                            th:selected="${criteria.searchValue == freeformType.code}"
                            th:text="${freeformType.value}">attribute name</option>
                  </select>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'TERM_ATTRIBUTE_NAME'}">
                  <select class="form-control"
                          th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                          data-live-search="true"
                          data-style="btn-outline-secondary">
                    <option th:each="freeformType : ${wordFreeformTypes}"
                            th:value="${freeformType.code}"
                            th:selected="${criteria.searchValue == freeformType.code}"
                            th:text="${freeformType.value}">attribute name</option>
                  </select>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'LEXEME_ATTRIBUTE_NAME'}">
                  <select class="form-control"
                          th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                          data-live-search="true"
                          data-style="btn-outline-secondary">
                    <option th:each="freeformType : ${lexemeFreeformTypes}"
                            th:value="${freeformType.code}"
                            th:selected="${criteria.searchValue == freeformType.code}"
                            th:text="${freeformType.value}">attribute name</option>
                  </select>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'MEANING_ATTRIBUTE_NAME'}">
                  <select class="form-control"
                          th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                          data-live-search="true"
                          data-style="btn-outline-secondary">
                    <option th:each="freeformType : ${meaningFreeformTypes}"
                            th:value="${freeformType.code}"
                            th:selected="${criteria.searchValue == freeformType.code}"
                            th:text="${freeformType.value}">attribute name</option>
                  </select>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'CONCEPT_ATTRIBUTE_NAME'}">
                  <select class="form-control"
                          th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                          data-live-search="true"
                          data-style="btn-outline-secondary">
                    <option th:each="freeformType : ${meaningFreeformTypes}"
                            th:value="${freeformType.code}"
                            th:selected="${criteria.searchValue == freeformType.code}"
                            th:text="${freeformType.value}">attribute name</option>
                  </select>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'WORD_FORUM'}">
                  <input type="text" class="form-control"
                         th:value="${criteria.searchValue}"
                         th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                         autocomplete="off">
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'MEANING_FORUM'}">
                  <input type="text" class="form-control"
                         th:value="${criteria.searchValue}"
                         th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                         autocomplete="off">
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'LEXEME_NOTE'}">
                  <input type="text" class="form-control"
                         th:value="${criteria.searchValue}"
                         th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                         autocomplete="off">
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'MEANING_NOTE'}">
                  <input type="text" class="form-control"
                         th:value="${criteria.searchValue}"
                         th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                         autocomplete="off">
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="value-input-container col-auto flex-grow-1 flex-shrink-1" th:if="${criteria.searchKey.name() == 'DEFINITION_NOTE'}">
                  <input type="text" class="form-control"
                         th:value="${criteria.searchValue}"
                         th:name="'criteriaGroups[' + ${critGroupStat.index} + '].searchCriteria[' + ${critStat.index} + '].searchValue'"
                         autocomplete="off">
                  <div class="invalid-feedback d-block" th:text="${criteria.validationMessage}">warning</div>
                </div>
                <div class="col-auto">
                  <button type="button" class="btn btn-sm mt-1" name="addDetailConditionBtn" th:title="#{common.search.add.condition}">
                    <i class="action-icon fa fa-plus" aria-hidden="true"></i>
                  </button>
                  <button type="button" class="btn btn-sm mt-1" name="removeDetailConditionBtn" th:title="#{common.search.remove.condition}">
                    <i class="action-icon fa fa-minus" aria-hidden="true"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="flex-grow-0 flex-shrink-0 d-flex pl-3 pt-1">
              <button type="button" class="btn btn-secondary btn-sm" name="addDetailGroupBtn" th:title="#{common.search.add.detail.group}">
                <i class="action-icon fa fa-plus" aria-hidden="true"></i>
              </button>
              <button type="button" class="btn btn-secondary btn-sm ml-2" name="removeDetailGroupBtn" th:title="#{common.search.remove.detail.group}">
                <i class="action-icon fa fa-minus" aria-hidden="true"></i>
              </button>
            </div>
          </div>
          <div id="searchKeyTemplates" hidden>
            <div th:each="entity : ${T(eki.ekilex.constant.SearchEntity).getLexEntities()}" th:if="${searchPageName == 'lex_search'}">
              <select th:name="${entity}">
                <option th:each="key : ${entity.getKeys()}" th:value="${key}" th:text="#{|enum.search.key.${key.name()}|}">searchKey</option>
              </select>
            </div>
            <div th:each="entity : ${T(eki.ekilex.constant.SearchEntity).getTermEntities()}"
                 th:if="${searchPageName == 'term_search' || searchPageName == 'lim_term_search'}">
              <select th:name="${entity}">
                <option th:each="key : ${entity.getKeys()}" th:value="${key}" th:text="#{|enum.search.key.${key.name()}|}">searchKey</option>
              </select>
            </div>
            <div th:each="entity : ${T(eki.ekilex.constant.SearchEntity).getSourceEntities()}" th:if="${searchPageName == 'source_search'}">
              <select th:name="${entity}">
                <option th:each="key : ${entity.getKeys()}" th:value="${key}" th:text="#{|enum.search.key.${key.name()}|}">searchKey</option>
              </select>
            </div>
          </div>
          <div id="searchOperandTemplates" hidden>
            <div th:each="key : ${T(eki.ekilex.constant.SearchKey).values()}">
              <select th:name="${key}">
                <option th:each="operand : ${key.getOperands()}" th:value="${operand}" th:text="#{|enum.search.operand.${operand.name()}|}">searchOperand</option>
              </select>
            </div>
          </div>
          <div id="searchValueTemplates" hidden>
            <div name="FREQUENCY" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <input type="text" class="form-control" autocomplete="off">
            </div>
            <div name="RANK" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <input type="text" class="form-control" autocomplete="off">
            </div>
            <div name="ATTRIBUTE_VALUE" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <input type="text" class="form-control" autocomplete="off">
            </div>
            <div name="VALUE" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <input type="text" class="form-control" autocomplete="off">
            </div>
            <div name="VALUE_AND_EXISTS" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <input type="text" class="form-control" autocomplete="off">
            </div>
            <div name="ID" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <input type="text" class="form-control" autocomplete="off">
            </div>
            <div name="COMMA_SEPARATED_IDS" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <input type="text" class="form-control" autocomplete="off">
            </div>
            <div name="LANGUAGE_DIRECT" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <select class="form-control" data-live-search="true" data-style="btn-outline-secondary">
                <option value="" selected th:text="#{common.all.languages}">Kõik keeled</option>
                <option th:each="language : ${languages}" th:value="${language.code}" th:text="${language.value}">language</option>
              </select>
            </div>
            <div name="LANGUAGE_INDIRECT" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <select class="form-control" data-live-search="true" data-style="btn-outline-secondary">
                <option value="" selected th:text="#{common.all.languages}">Kõik keeled</option>
                <option th:each="language : ${languages}" th:value="${language.code}" th:text="${language.value}">language</option>
              </select>
            </div>
            <div name="WORD_TYPE" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <select class="form-control" data-live-search="true" data-style="btn-outline-secondary">
                <option th:each="wordType : ${wordTypes}" th:value="${wordType.code}" th:text="${wordType.value}">wordType</option>
              </select>
            </div>
            <div name="DISPLAY_MORPH" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <select class="form-control" data-live-search="true" data-style="btn-outline-secondary">
                <option th:each="wordDisplayMorph : ${wordDisplayMorphs}" th:value="${wordDisplayMorph.code}" th:text="${wordDisplayMorph.value}">word display morph</option>
              </select>
            </div>
            <div name="ASPECT" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <select class="form-control" data-live-search="true" data-style="btn-outline-secondary">
                <option th:each="aspect : ${wordAspects}" th:value="${aspect.code}" th:text="${aspect.value}">aspect</option>
              </select>
            </div>
            <div name="TAG_NAME" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <select class="form-control" data-live-search="true" data-style="btn-outline-secondary">
                <option value="" selected th:text="#{common.all.tags}">Kõik sildid</option>
                <option th:each="tag : ${allTags}" th:value="${tag}" th:text="${tag}">Täääg</option>
              </select>
            </div>
            <div name="DOMAIN" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <select class="form-control" data-live-search="true" data-style="btn-outline-secondary">
                <option value="" selected th:text="#{common.all.domains}">Kõik valdkonnad</option>
                <optgroup th:each="origin : ${domains}" th:label="${origin.getKey()}">
                  <option th:each="domain : ${origin.getValue()}"
                          th:value="${domain.toIdString()}"
                          th:text="${#strings.abbreviate(domain.origin + ' - ' + domain.code + ' - ' + domain.value, 100)}"
                          th:title="${domain.origin + ' - ' + domain.code + ' - ' + domain.value}">domain</option>
                </optgroup>
              </select>
            </div>
            <div name="WORD_RELATION" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <select class="form-control" data-live-search="true" data-style="btn-outline-secondary">
                <option th:each="relType : ${wordRelationTypes}" th:value="${relType.code}" th:text="${relType.value}">rel type</option>
              </select>
            </div>
            <div name="MEANING_RELATION" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <select class="form-control" data-live-search="true" data-style="btn-outline-secondary">
                <option th:each="relType : ${meaningRelationTypes}" th:value="${relType.code}" th:text="${relType.value}">rel type</option>
              </select>
            </div>
            <div name="SEMANTIC_TYPE" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <select class="form-control" data-live-search="true" data-style="btn-outline-secondary">
                <option th:each="semanticType : ${semanticTypes}" th:value="${semanticType.code}" th:text="${semanticType.code}">semantic type</option>
              </select>
            </div>
            <div name="COMPLEXITY" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <select class="form-control" data-live-search="true" data-style="btn-outline-secondary">
                <option th:each="complexity : ${complexities}" th:value="${complexity}" th:text="#{'enum.complexity.' + ${complexity}}"></option>
              </select>
            </div>
            <div name="SOURCE_REF" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <input type="text" class="form-control" autocomplete="off" hidden="hidden">
            </div>
            <div name="SOURCE_NAME" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <input type="text" class="form-control" autocomplete="off">
            </div>
            <div name="SOURCE_VALUE" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <input type="text" class="form-control" autocomplete="off">
            </div>
            <div name="SOURCE_ID" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <input type="text" class="form-control" autocomplete="off">
            </div>
            <div name="VOCAL_FORM" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <input type="text" class="form-control" autocomplete="off">
            </div>
            <div name="MORPHOPHONO_FORM" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <input type="text" class="form-control" autocomplete="off">
            </div>
            <div name="CREATED_OR_UPDATED_BY" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <input type="text" class="form-control" autocomplete="off">
            </div>
            <div class="value-input-container col-auto mr-auto flex-grow-0 flex-shrink-1">
              <div name="CREATED_OR_UPDATED_ON" class="col-auto mr-auto flex-grow-0 flex-shrink-1">
                <div class="input-group date" data-provide="datepicker" data-date-language="et" data-date-autoclose="true">
                  <input type="text" class="form-control" autocomplete="off">
                  <div class="input-group-addon input-group-append">
                    <div class="input-group-text">
                      <i class="fa fa-calendar"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div name="CREATED_BY" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <input type="text" class="form-control" autocomplete="off">
            </div>
            <div class="col-auto flex-grow-1 flex-shrink-1 ">
              <div name="CREATED_ON" class="value-input-container col-auto flex-grow-0 flex-shrink-1 mr-auto">
                <div class="input-group date" data-provide="datepicker" data-date-language="et" data-date-autoclose="true">
                  <input type="text" class="form-control" autocomplete="off">
                  <div class="input-group-addon input-group-append">
                    <div class="input-group-text">
                      <i class="fa fa-calendar"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div name="UPDATED_BY" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <input type="text" class="form-control" autocomplete="off">
            </div>
            <div name="UPDATED_ON" class="value-input-container col-auto flex-grow-0 flex-shrink-1 mr-auto">
              <div class="input-group date" data-provide="datepicker" data-date-language="et" data-date-autoclose="true">
                <input type="text" class="form-control" autocomplete="off">
                <div class="input-group-addon input-group-append">
                  <div class="input-group-text">
                    <i class="fa fa-calendar"></i>
                  </div>
                </div>
              </div>
            </div>
            <div name="LAST_UPDATE_ON" class="value-input-container col-auto flex-grow-0 flex-shrink-1 mr-auto">
              <div class="input-group date" data-provide="datepicker" data-date-language="et" data-date-autoclose="true">
                <input type="text" class="form-control" autocomplete="off">
                <div class="input-group-addon input-group-append">
                  <div class="input-group-text">
                    <i class="fa fa-calendar"></i>
                  </div>
                </div>
              </div>
            </div>
            <div name="MANUAL_UPDATE_ON" class="value-input-container col-auto flex-grow-0 flex-shrink-1 mr-auto">
              <div class="input-group date" data-provide="datepicker" data-date-language="et" data-date-autoclose="true">
                <input type="text" class="form-control" autocomplete="off">
                <div class="input-group-addon input-group-append">
                  <div class="input-group-text">
                    <i class="fa fa-calendar"></i>
                  </div>
                </div>
              </div>
            </div>
            <div name="DATASET_USAGE" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <select class="form-control" data-live-search="true" data-style="btn-outline-secondary">
                <option th:each="dataset : ${userVisibleDatasets}" th:value="${dataset.code}" th:text="${dataset.name}">dataset</option>
              </select>
            </div>
            <div name="SECONDARY_MEANING_WORD" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <input type="text" class="form-control" autocomplete="off">
            </div>
            <div name="PUBLICITY" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <select class="form-control" data-style="btn-outline-secondary">
                <option value="true">avalik</option>
                <option value="false">mitteavalik</option>
              </select>
            </div>
            <div name="OD_RECOMMENDATION" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <input type="text" class="form-control" autocomplete="off">
            </div>
            <div name="LEXEME_GRAMMAR" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <input type="text" class="form-control" autocomplete="off">
            </div>
            <div name="LEXEME_GOVERNMENT" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <input type="text" class="form-control" autocomplete="off">
            </div>
            <div name="LEXEME_POS" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <select class="form-control" data-live-search="true" data-style="btn-outline-secondary">
                <option th:each="pos : ${allLexemePos}" th:value="${pos.code}" th:text="${pos.value}">pos</option>
              </select>
            </div>
            <div name="LEXEME_REGISTER" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <select class="form-control" data-live-search="true" data-style="btn-outline-secondary">
                <option th:each="register : ${allLexemeRegisters}" th:value="${register.code}" th:text="${register.value}">register</option>
              </select>
            </div>
            <div name="LEXEME_DERIV" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <select class="form-control" data-live-search="true" data-style="btn-outline-secondary">
                <option th:each="deriv : ${allLexemeDerivs}" th:value="${deriv.code}" th:text="${deriv.value}">deriv</option>
              </select>
            </div>
            <div name="LEXEME_VALUE_STATE" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <select class="form-control" data-live-search="true" data-style="btn-outline-secondary">
                <option th:each="valueState : ${lexemeValueStates}" th:value="${valueState.code}" th:text="${valueState.value}">value state</option>
              </select>
            </div>
            <div name="LEXEME_RELATION" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <select class="form-control" data-live-search="true" data-style="btn-outline-secondary">
                <option th:each="lexemeRelationType : ${lexemeRelationTypes}" th:value="${lexemeRelationType.code}" th:text="${lexemeRelationType.value}">lexeme relation type</option>
              </select>
            </div>
            <div name="LEXEME_PROFICIENCY_LEVEL" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <select class="form-control" data-live-search="true" data-style="btn-outline-secondary">
                <option th:each="proficiencyLevel : ${lexemeProficiencyLevels}" th:value="${proficiencyLevel.code}" th:text="${proficiencyLevel.value}">proficiency level</option>
              </select>
            </div>
            <div name="WORD_ATTRIBUTE_NAME" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <select class="form-control" data-live-search="true" data-style="btn-outline-secondary">
                <option th:each="freeformType : ${wordFreeformTypes}" th:value="${freeformType.code}" th:text="${freeformType.value}">attribute name</option>
              </select>
            </div>
            <div name="TERM_ATTRIBUTE_NAME" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <select class="form-control" data-live-search="true" data-style="btn-outline-secondary">
                <option th:each="freeformType : ${wordFreeformTypes}" th:value="${freeformType.code}" th:text="${freeformType.value}">attribute name</option>
              </select>
            </div>
            <div name="LEXEME_ATTRIBUTE_NAME" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <select class="form-control" data-live-search="true" data-style="btn-outline-secondary">
                <option th:each="freeformType : ${lexemeFreeformTypes}" th:value="${freeformType.code}" th:text="${freeformType.value}">attribute name</option>
              </select>
            </div>
            <div name="MEANING_ATTRIBUTE_NAME" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <select class="form-control" data-live-search="true" data-style="btn-outline-secondary">
                <option th:each="freeformType : ${meaningFreeformTypes}" th:value="${freeformType.code}" th:text="${freeformType.value}">attribute name</option>
              </select>
            </div>
            <div name="CONCEPT_ATTRIBUTE_NAME" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <select class="form-control" data-live-search="true" data-style="btn-outline-secondary">
                <option th:each="freeformType : ${meaningFreeformTypes}" th:value="${freeformType.code}" th:text="${freeformType.value}">attribute name</option>
              </select>
            </div>
            <div name="WORD_FORUM" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <input type="text" class="form-control" autocomplete="off">
            </div>
            <div name="MEANING_FORUM" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <input type="text" class="form-control" autocomplete="off">
            </div>
            <div name="LEXEME_NOTE" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <input type="text" class="form-control" autocomplete="off">
            </div>
            <div name="MEANING_NOTE" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <input type="text" class="form-control" autocomplete="off">
            </div>
            <div name="DEFINITION_NOTE" class="value-input-container col-auto flex-grow-1 flex-shrink-1">
              <input type="text" class="form-control" autocomplete="off">
            </div>
          </div>
        </div>
        <div class="flex-grow-1 border-left border-light my-n3 pt-3 pr-3 pb-3 pl-3 detail-search-box-less">
          <div class="col-auto mb-1 p-0">
            <input class="form-control detail-search-box-less-value" type="text" disabled="disabled" autocomplete="off">
            <div class="d-flex flex-row w-100 justify-content-end">
              <div class="over-flow-opacity-box">
              </div>
            </div>
          </div>
        </div>
        <button type="submit" class="btn btn-primary px-5 ml-3 detail-search-filter-items" th:text="#{common.search}">Otsi</button>
        <div class="d-flex flex-row detail-search-mode-less justify-content-center">
          <div class="detail-search-mode-less-border d-none">
            <button class="d-flex flex-column btn btn-secondary shadow-none align-items-center detail-search-mode-less-btn"
                  data-plugin="detailSearchModePlugin" type="button">
              <i class="d-flex flex-row align-items-center fa fa-sort-asc  detail-search-mode-less-btn-i" aria-hidden="true"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
    <script th:inline="javascript">
		  initialiseDetailSearch()
    </script>
  </th:block>
  <th:block th:fragment="dataset_select">
    <button class="btn btn-outline-secondary" type="button" data-toggle="modal" data-target="#datasetSelectDlg" aria-expanded="false" aria-controls="dataset_select">
      <span th:text="#{common.search.selected.datasets}">Valitud sõnakogusid:</span>
      <span th:if="${#lists.isEmpty(userProfile.preferredDatasets)}">0</span>
      <span th:if="${not #lists.isEmpty(userProfile.preferredDatasets)}" th:text="${#lists.size(userProfile.preferredDatasets)}"></span>
      <i class="fa fa-book" aria-hidden="true"></i>
    </button>
    <div id="datasetSelectDlg" class="modal" role="dialog" data-plugin="selectDataSetsPlugin, datasetDlgFocusBtnPlugin">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-body">
            <button class="btn btn-secondary btn-sm" type="button" name="selectAll" th:text="#{common.select.all}">Vali kõik</button>
            <button class="btn btn-secondary btn-sm" type="button" name="selectNone" th:text="#{common.unselect.all}">Eemalda valikud</button>
            <div class="mt-3" style="max-height: calc(100vh - 14rem); overflow-y: auto;">
              <div class="form-check mt-1" th:each="dataset : ${userVisibleDatasets}">
                <label class="form-check-label">
                  <input class="form-check-input" type="checkbox" th:value="${dataset.code}" th:name="selectedDatasets"
                         th:checked="${not #lists.isEmpty(userProfile.preferredDatasets) && #lists.contains(userProfile.preferredDatasets, dataset.code)}">
                  <span th:text="${dataset.name}">Dataset name</span>
                  <span class="ctxt" th:text="'(' + ${dataset.code} + ')'">(code)</span>
                </label>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-primary" th:text="#{common.select}">Vali</button>
            <button type="button" class="btn btn-default" data-dismiss="modal" th:text="#{common.cancel}">Katkesta</button>
          </div>
        </div>
      </div>
    </div>
  </th:block>
</body>
</html>
